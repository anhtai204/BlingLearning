<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlingLearning</title>
    <link rel="stylesheet" href="../assets/css/Index.css">
    <link rel="stylesheet" href="../assets/css/home-footer.css">
    <link rel="stylesheet" href="../assets/css/DongGop.css">
    <link rel="stylesheet" href="../assets/fonts/themify-icons/themify-icons.css">
    <style>
        .open {
            display: block;
        }
    </style>
</head>
<body>
    <div id="main">
        <div id="header">
            <div class="nav">
                <div class="logo">
                    <img src="../assets/img/logo2.jpg" alt="Khoa CNTT ĐHSP Hà Nội">
                    <div class="logo-content">
                        <h2>KHOA CÔNG NGHỆ THÔNG TIN</h2>
                        <h3>TRƯỜNG ĐẠI HỌC SƯ PHẠM HÀ NỘI</h3>
                    </div>
                </div>
                
                <div class="content-nav">
                    <li id="course">
                        <div>
                            <i class="ti-book"></i>    
                            <a>Khóa học</a>
                        </div>
                        <ul class="sub-course">
                            <li style="line-height: 34px; margin-left: 20px; margin-top: 5px; font-weight: bold; font-family: sans-serif;">
                                <p>Khóa học của tôi</p>
                            </li>
                            <a href="#">
                                <li id="sub-course-sector">
                                    <img src="../assets/img/html-course.jpg" alt="">
                                        <span id="name-course">HTML CSS từ Zero đến Hero</span>
                                        <span style="text-decoration: underline;" id="start-learn">Bắt đầu học</span>
                                </li>
                            </a>
                            <a href="#">
                                <li id="sub-course-sector">
                                    <img src="../assets/img/js-course.jpg" alt="">
                                    <span id="name-course">Lập Trình JavaScript Cơ Bản</span>
                                    <span style="text-decoration: underline;" id="start-learn">Bắt đầu học</span>
                                </li>
                            </a>
                        </ul>
                    </li>

                    <li id="train">
                        <i class="ti-pencil-alt"></i>
                        <a href="LuyenTap.html">Luyện tập</a>
                    </li>

                    <li id="note">
                        <i class="ti-pencil-alt"></i>
                        <a href="DuyetCauHoi.html">Duyệt câu hỏi</a>
                    </li>
                    <li id="account">
                        <div>
                            <i class="ti-user"></i>
                            <a>Account</a>
                        </div>
                        <ul class="sub-account">
                            <li id="support">                              
                                <a><i class="ti-comment-alt"></i><span>&nbsp;Đóng góp ý kiến</span></a>
                            </li>
                            <li id="setting">                               
                                <a href="setting.html"><i class="ti-settings"></i><span>&nbsp;Cài đặt</span></a>
                            </li>
                            <li id="log-out">          
                                <a onclick="logout()" href="DangNhap.html"><i class="ti-power-off"></i><span>&nbsp;Đăng xuất</span></a>
                            </li>
                        </ul>
                    </li>
                </div>
            </div>
        </div>
        <script>
            function logout() {
                localStorage.setItem("current-account","{}");
            }
        </script>
        
        <!-- Đóng góp ý kiến -->

        <div class="contribute-ideas">
            <div id="ideas-head">
                <p>Đóng góp ý kiến</p>
                <i class="ti-close"></i>
            </div>
            <hr>

            <div class="ideas-bottom">
                <li id="ideas-bt">
                    <i class="ti-face-smile"></i>
                    <div>
                        <p style="font-family: sans-serif; font-weight: bold; font-size: 17px;">Chung tay cải thiện trang web</p>
                        <p style="font-family: sans-serif; font-size: 14px; color: #8a8c8f;">Đóng góp ý kiến về trải nghiệm sử dụng của bạn</p>
                    </div>
                </li>
                
                <li id="ideas-bt">
                    <i class="ti-alert"></i>
                    <div>
                        <p style="font-family: sans-serif; font-weight: bold; font-size: 17px;">Đã xảy ra lỗi</p>
                        <p style="font-family: sans-serif; font-size: 14px; color: #8a8c8f;">Hãy cho chúng tôi biết về tính năng bị lỗi</p>
                    </div>
                </li>
            </div>
        </div>
        
        <!--  -->
        <div class="content">
            <li id="content-left">
                <div class="top-content-icon">
                    <a href="../Index.html"><div class="back-home">
                        <i class="ti-home"></i>
                        <p>Trang chủ</p>
                    </div></a>
    
                    <a href="LoTrinh.html"><div class="road">
                        <i class="ti-map"></i>
                        <p>Lộ trình</p>
                    </div></a>
    
                    <a href="BaiViet.html"><div class="notification">
                        <i class="ti-comment-alt"></i>
                        <p>Bài Viết</p>
                    </div></a>
    
                    <a href="TinTuc.html"><div class="announce">
                        <i class="ti-announcement"></i>
                        <p>Tin tức</p>
                    </div></a>
                </div>

                <div class="help">
                    <i class="ti-help-alt"></i>
                    <a href="#">Help</a>
                </div>
            </li>
            <li id="content-right">
                <div class="form">
                    <div class="loaicauhoi">
                        <p>Loại câu hỏi:</p>
                        <div class="name">
                            <p>Câu hỏi trắc nghiệm 1 đáp án</p>
                            <p>Câu hỏi trắc nghiệm nhiều đáp án</p>
                            <p>Câu hỏi điền đáp án</p>
                        </div>
                        <div class="check">
                            <input type="radio" name="rdLoaiCauHoi" id="rdLoaiCauHoi_1" value="1"><br>
                            <input type="radio" name="rdLoaiCauHoi" id="rdLoaiCauHoi_2" value="2"><br>
                            <input type="radio" name="rdLoaiCauHoi" id="rdLoaiCauHoi_3" value="3"><br>
                        </div>
                    </div>
                    <div class="inner">
                    </div>
                </div>
            </li>
            <script>
                var current_user=JSON.parse(localStorage["current-account"]);
                // Form câu hỏi chọn 1 đáp án
                var content=document.querySelector("#content-right .inner");
                document.querySelector("#content-right .check #rdLoaiCauHoi_1").onclick=function() {
                    content.innerHTML=`
                        <hr>
                        <div class="cauhoi">
                            <p>Câu hỏi:</p>
                            <textarea name="CauHoi" id="CauHoi" cols="70" rows="5"></textarea>
                        </div>
                        <hr>
                        <div class="dapan">
                            <div class="name">
                                <p>Đáp án đúng:</p>
                                <p>Đáp án sai:</p>
                            </div>
                            <div id="dapan">
                                <textarea name="DapAn" id="DapAn" cols="70" rows="2"></textarea><br>
                                <textarea name="DapAn" id="DapAn1" cols="70" rows="2"></textarea><br>
                                <textarea name="DapAn" id="DapAn2" cols="70" rows="2"></textarea><br>
                                <textarea name="DapAn" id="DapAn3" cols="70" rows="2"></textarea><br>
                            </div>
                        </div>
                        <hr>
                        <button id="submit1">Gửi câu hỏi</button>`;
                    document.querySelector("#content-right .inner #submit1").onclick=function() {
                        let cauhoi=document.querySelector("#content-right .inner .cauhoi #CauHoi").value;
                        let DA_dung=document.querySelector("#content-right .inner .dapan #DapAn").value;
                        let DA_sai1=document.querySelector("#content-right .inner .dapan #DapAn1").value;
                        let DA_sai2=document.querySelector("#content-right .inner .dapan #DapAn2").value;
                        let DA_sai3=document.querySelector("#content-right .inner .dapan #DapAn3").value;
                        if(cauhoi==="") {alert("Hãy nhập câu hỏi!")}
                        else {
                            if(DA_dung==="") {alert("Đáp án đúng không được để trống!")}
                            else {
                                if(DA_sai1==="" || DA_sai2==="" || DA_sai3==="") {alert("Câu trả lời sai không được để trống!")}
                                else {
                                    // Lấy thời gian hiện tại
                                    let username=current_user.account;
                                    let today=new Date();
                                    let raw_time=`${today.getHours()}:${today.getMinutes()}:${today.getSeconds()} - ngày ${today.getDate()}/${today.getMonth()+1}/${today.getFullYear()}`;
                                    let submit= {
                                        time:raw_time,
                                        user:username,
                                        CauHoi:cauhoi,
                                        DapAn_Dung:DA_dung,
                                        DapAn_Sai1:DA_sai1,
                                        DapAn_Sai2:DA_sai2,
                                        DapAn_Sai3:DA_sai3,
                                        TrangThai:0
                                    }
                                    let inner=JSON.parse(localStorage["CauHoi1DA"]);
                                    inner[`CauHoi_${Object.keys(inner).length}`]=JSON.stringify(submit);
                                    localStorage["CauHoi1DA"]=JSON.stringify(inner);
                                    document.querySelector("#content-right .inner .cauhoi #CauHoi").value="";
                                    document.querySelector("#content-right .inner .dapan #DapAn").value="";
                                    document.querySelector("#content-right .inner .dapan #DapAn1").value="";
                                    document.querySelector("#content-right .inner .dapan #DapAn2").value="";
                                    document.querySelector("#content-right .inner .dapan #DapAn3").value="";
                                    alert("Đóng góp câu hỏi thành công");
                                }
                            }
                        }
                    }
                }
                // Form câu hỏi chọn nhiều đáp án
                var func_inner=function() {
                    var demd=parseInt(1);
                    var dems=parseInt(1);
                    content.innerHTML=`
                            <hr>
                            <div class="cauhoi">
                                <p>Câu hỏi:</p>
                                <textarea name="CauHoi" id="CauHoi" cols="70" rows="5"></textarea>
                            </div>
                            <hr>
                            <div class="dapan dung">
                                <div class="name">
                                    <p>Đáp án đúng:</p>
                                </div>
                                <div class="innerDung" id="dapan">
                                    <textarea name="DapAnDung" id="DapAnDung_1" cols="65" rows="2"></textarea>
                                </div>
                                <i class="ti-close"></i>
                                <span>Thêm đáp án đúng</span>
                            </div>
                            <div class="dapan sai">
                                <div class="name">
                                    <p>Đáp án sai:&nbsp;&nbsp;&nbsp;&nbsp;</p>
                                </div>
                                <div class="innerSai" id="dapan">
                                    <textarea name="DapAnSai" id="DapAnSai_1" cols="65" rows="2"></textarea>
                                </div>
                                <i class="ti-close"></i>
                                <span>Thêm đáp án sai</span>
                            </div>
                            <hr>
                            <button id="submit2">Gửi câu hỏi</button>`;
                    // Đáp án đúng
                    document.querySelector("#content-right .dung span").onclick=function() {
                        if(demd==4) {alert("Chỉ được phép tối ta 4 đáp án đúng")}
                        else {
                            demd++;
                            var innerDung=document.createElement('textarea');
                            innerDung.name="DapAnDung"
                            innerDung.id=`DapAnDung_${demd}`;
                            innerDung.cols="65";
                            innerDung.rows="2";
                            var DapAnDungInner=document.querySelector("#content-right .innerDung");
                            DapAnDungInner.appendChild(innerDung);
                        }
                    }
                    document.querySelector("#content-right .dung i").onclick=function() {
                        if(demd===1) {alert("Phải có ít nhất 1 đáp án đúng");}
                        else {
                            document.querySelector(`#content-right .dung .innerDung #DapAnDung_${demd}`).remove();
                            demd--;
                        }
                    }
                    
                    // Đáp án sai
                    document.querySelector("#content-right .sai span").onclick=function() {
                        if(dems==4) {alert("Chỉ được phép tối đa 4 đáp án sai")}
                        else {
                            dems++;
                            var innerSai=document.createElement('textarea');
                            innerSai.name="DapAnSai"
                            innerSai.id=`DapAnSai_${dems}`;
                            innerSai.cols="65";
                            innerSai.rows="2";
                            var DapAnSaiInner=document.querySelector("#content-right .innerSai");
                            DapAnSaiInner.appendChild(innerSai);
                        }
                    }
                    document.querySelector("#content-right .sai i").onclick=function() {
                        if(dems===1) {alert("Phải có ít nhất 1 đáp án sai");}
                        else {
                            document.querySelector(`#content-right .sai .innerSai #DapAnSai_${dems}`).remove();
                            dems--;
                        }
                    }
                    document.querySelector("#content-right .inner #submit2").onclick=function() {
                        let cauhoi=document.querySelector("#content-right .inner .cauhoi #CauHoi").value;
                        if(cauhoi==="") {alert("Câu hỏi không được để thống")}
                        else {
                            if(demd==1) {
                                var dapan_dung={
                                    DADung_1:document.querySelector("#content-right .innerDung #DapAnDung_1").value,
                                    DADung_2:"",
                                    DADung_3:"",
                                    DADung_4:"",

                                }
                            }
                            else if(demd==2) {
                                var dapan_dung={
                                    DADung_1:document.querySelector("#content-right .innerDung #DapAnDung_1").value,
                                    DADung_2:document.querySelector("#content-right .innerDung #DapAnDung_2").value,
                                    DADung_3:"",
                                    DADung_4:"",
                                }
                            }
                            else if(demd==3) {
                                var dapan_dung={
                                    DADung_1:document.querySelector("#content-right .innerDung #DapAnDung_1").value,
                                    DADung_2:document.querySelector("#content-right .innerDung #DapAnDung_2").value,
                                    DADung_3:document.querySelector("#content-right .innerDung #DapAnDung_3").value,
                                    DADung_4:"",
                                }
                            }
                            else if(demd==4) {
                                var dapan_dung={
                                    DADung_1:document.querySelector("#content-right .innerDung #DapAnDung_1").value,
                                    DADung_2:document.querySelector("#content-right .innerDung #DapAnDung_2").value,
                                    DADung_3:document.querySelector("#content-right .innerDung #DapAnDung_3").value,
                                    DADung_4:document.querySelector("#content-right .innerDung #DapAnDung_4").value
                                }
                            }
                            
                            if(dems==1) {
                                var dapan_sai={
                                    DASai_1:document.querySelector("#content-right .innerSai #DapAnSai_1").value,
                                    DASai_2:"",
                                    DASai_3:"",
                                    DASai_4:""
                                }
                            }
                            else if(dems==2) {
                                var dapan_sai={
                                    DASai_1:document.querySelector("#content-right .innerSai #DapAnSai_1").value,
                                    DASai_2:document.querySelector("#content-right .innerSai #DapAnSai_2").value,
                                    DASai_3:"",
                                    DASai_4:""
                                }
                            }
                            else if(dems==3) {
                                var dapan_sai={
                                    DASai_1:document.querySelector("#content-right .innerSai #DapAnSai_1").value,
                                    DASai_2:document.querySelector("#content-right .innerSai #DapAnSai_2").value,
                                    DASai_3:document.querySelector("#content-right .innerSai #DapAnSai_3").value,
                                    DASai_4:""
                                }
                            }
                            else if(dems==4) {
                                var dapan_sai={
                                    DASai_1:document.querySelector("#content-right .innerSai #DapAnSai_1").value,
                                    DASai_2:document.querySelector("#content-right .innerSai #DapAnSai_2").value,
                                    DASai_3:document.querySelector("#content-right .innerSai #DapAnSai_3").value,
                                    DASai_4:document.querySelector("#content-right .innerSai #DapAnSai_4").value
                                }
                            }
                            
                            let username=current_user.account;
                            // Lấy thời gian hiện tại
                            let today=new Date();
                            let raw_time=`${today.getHours()}:${today.getMinutes()}:${today.getSeconds()} - ngày ${today.getDate()}/${today.getMonth()+1}/${today.getFullYear()}`;
                            let submit= {
                                time:raw_time,
                                user:username,
                                CauHoi:cauhoi,
                                DapAnDung:JSON.stringify(dapan_dung),
                                DapAnSai:JSON.stringify(dapan_sai),
                                TrangThai:0
                            }
                            let inner=JSON.parse(localStorage["CauHoiNDA"]);
                            inner[`CauHoi_${Object.keys(inner).length}`]=JSON.stringify(submit);
                            localStorage["CauHoiNDA"]=JSON.stringify(inner);
                            func_inner();
                            alert("Đóng góp câu hỏi thành công");
                        }
                    }
                }
                document.querySelector("#content-right .check #rdLoaiCauHoi_2").onclick=func_inner;

                // Form câu hỏi điền đáp án
                document.querySelector("#content-right .check #rdLoaiCauHoi_3").onclick=function() {
                    content.innerHTML=`
                        <hr>
                        <div class="cauhoi">
                            <p>Câu hỏi:</p>
                            <textarea name="CauHoi" id="CauHoi" cols="70" rows="5"></textarea>
                        </div>
                        <hr>
                        <div class="dapan">
                            <div class="name">
                                <p>Đáp án đúng:</p>
                            </div>
                            <div id="dapan">
                                <textarea name="DapAn" id="DapAn" cols="70" rows="2"></textarea><br>
                            </div>
                        </div>
                        <hr>
                        <button id="submit3">Gửi câu hỏi</button>`;
                    document.querySelector("#content-right .inner #submit3").onclick=function() {
                        let cauhoi=document.querySelector("#content-right .inner .cauhoi #CauHoi").value;
                        let dapan=document.querySelector("#content-right .dapan #DapAn").value;
                        if(cauhoi==="") {alert("Câu hỏi không được để trống");}
                        else {
                            if(dapan==="") {alert("Đáp án không được để trống");}
                            else {
                                // Lấy thời gian hiện tại
                                let username=current_user.account;
                                let today=new Date();
                                let raw_time=`${today.getHours()}:${today.getMinutes()}:${today.getSeconds()} - ngày ${today.getDate()}/${today.getMonth()+1}/${today.getFullYear()}`;
                                let submit={
                                    time:raw_time,
                                    user:username,
                                    CauHoi:cauhoi,
                                    DapAn:dapan,
                                    TrangThai:0
                                }
                                let inner=JSON.parse(localStorage["CauHoiDien"]);
                                inner[`CauHoi_${Object.keys(inner).length}`]=JSON.stringify(submit);
                                localStorage["CauHoiDien"]=JSON.stringify(inner);
                                document.querySelector("#content-right .inner .cauhoi #CauHoi").value="";
                                document.querySelector("#content-right .dapan #DapAn").value="";
                            alert("Đóng góp câu hỏi thành công");
                            }
                        }
                    }
                }
            </script>
        </div>
    </div>
    

    <div class="home-footer">
        <div class="image">
            <img src="../assets/img/logo2.jpg" alt="">
        </div>
        <div class="info">
            <span>BlingLearning</span><br>
            <span>Nhóm 12 - NTPTW01 - K72 Nền Tảng Phát Triển Web</span><br>
            <span>1 Tháng 12, 2023</span>
        </div>
        <div class="tag">
            <span>Khoa Công nghệ thông tin - Trường Đại học Sư phạm Hà Nội 2023</span>
        </div>
    </div>
    <script>

        // Account sub
        const sub_account = document.querySelector('.sub-account');
        const user_avt = document.querySelector('#account > div');


        function showAccount() {
            if(sub_course.classList.contains('open')) {
                sub_course.classList.remove('open')
            }
            sub_account.classList.toggle('open');
        }

        user_avt.addEventListener('click', showAccount)


        // Course sub
        const sub_course = document.querySelector('.sub-course');
        const course_avt = document.querySelector('#course > div');


        function showCourse() {
            if(sub_account.classList.contains('open')) {
                sub_account.classList.remove('open')
            }
            sub_course.classList.toggle('open');
        }
        
        course_avt.addEventListener('click', showCourse)

        // Contribute ideas
        const show_ideas = document.querySelector('.sub-account #support');
        const sub_ideas = document.querySelector('.contribute-ideas');
        const ideas_avt = document.querySelector('#ideas-head .ti-close');

        function showContribute() {
            if(sub_account.classList.contains('open')) {
                sub_account.classList.remove('open')
            }
            sub_ideas.classList.add('open');
        }

        function hideContribute() {
            sub_ideas.classList.remove('open')
        }

        show_ideas.addEventListener('click', showContribute);
        ideas_avt.addEventListener('click', hideContribute);

    </script>
</body>
</html>